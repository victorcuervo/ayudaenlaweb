{%- if site.footer_scripts -%}
  {%- for script in site.footer_scripts -%}
    {%- if script contains "://" -%}
      {%- capture script_path %}{{ script }}{% endcapture -%}
    {%- else -%}
      {%- capture script_path %}{{ script | absolute_url }}{% endcapture -%}
    {%- endif -%}
    <script src="{{ script_path }}"></script>
  {%- endfor -%}
{%- else -%}
  <script defer src="https://code.jquery.com/jquery-3.7.1.slim.min.js" integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>  
  <script defer src="{{ '/assets/js/main.min.js' | relative_url }}"></script>  
{%- endif -%}

{%- if jekyll.environment == 'production' and site.google_analytics -%}
{%- endif %}

{% if site.mathjax == true %}
<!-- MathJax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
{% endif %}

{%- if page.layout == "search" -%}
  {% include lunr-search-scripts.html %}
{%- endif -%}

<!-- Google Ads -->
<script async src="https://securepubads.g.doubleclick.net/tag/js/gpt.js"></script>
<script>
  let adsLoaded = false; // Evita cargar varias veces

  function loadAdsense() {
    if (adsLoaded) return;
    adsLoaded = true;

    let script = document.createElement("script");
    script.src = "https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";
    script.setAttribute("data-ad-client", "ca-pub-1617825704006857"); // Reemplaza con tu ID
    script.async = true;
    document.body.appendChild(script);
  }

  // Escucha la primera interacci√≥n del usuario
  document.addEventListener("mousemove", loadAdsense, { once: true });
  document.addEventListener("scroll", loadAdsense, { once: true });
  document.addEventListener("touchstart", loadAdsense, { once: true });
</script>
